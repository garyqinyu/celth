<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="Author" CONTENT="Kenneth G. Maxwell">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.06 [en]C-gatewaynet  (Win98; I) [Netscape]">
   <TITLE>PEG Reference Manual</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFBF7" LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000">
<A HREF="../refman.htm"><IMG SRC="index.gif" BORDER=0 ></A>
<TABLE BORDER=2 COLS=5 WIDTH="100%" BGCOLOR="#CCCCCC" >
<TR>
<TD>
<CENTER><A HREF="#Derivation">Derivation</A></CENTER>
</TD>

<TD>
<CENTER><A HREF="#Members">Members</A></CENTER>
</TD>

<TD>
<CENTER><A HREF="#Styles">Styles</A></CENTER>
</TD>

<TD>
<CENTER><A HREF="#Examples">Examples</A></CENTER>
</TD>

<TD>
<CENTER><A HREF="#See Also">See Also</A></CENTER>
</TD>
</TR>
</TABLE>

<CENTER><B><FONT COLOR="#9C0000"><FONT SIZE=+2>PegAnimationWindow</FONT></FONT></B></CENTER>

<P><B><U><FONT FACE="Arial,Helvetica"><FONT SIZE=+1>Overview</FONT></FONT></U></B>
<P><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">PegAnimationWindow
is a window class for displaying a series of PegBitmap images. If these
images are displayed in rapid sequence, the effect of smooth motion animation
is produced.</FONT></FONT>
<P><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">PegAnimationWindow
allows the programmer to specify the position and size of each displayed
frame. The animation can be run automatically by PegAnimationWindow via
the Run() function, or individual frames may be displayed by the caller.</FONT></FONT>
<P><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">PegAnimationWindow
can be used in applications which support multiple palettes, and will install
the correct palette for the animation when displayed.</FONT></FONT>
<P><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">The default operation
of PegAnimationWindow is to render each animation frame to video memory
during program execution. Custom implementations are often modified to
render ALL frames into unused portions of video memory when PegAnimationWindow
is initially displayed, and then use the video hardware bit-blitting functions
to draw each frame on the visible screen. This yields superior performance
on platforms which have advanced video controller hardware.</FONT></FONT>
<P><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">An x and y offset
value may be specified for the animation window. This value indicates the
offset from the window origin to the display of the animation frames. This
allows the animation frames to be part of a larger background bitmap. Note
that each animation frame must be displayed in the same relative position,
i.e. there are not unique offset values for each frame.</FONT></FONT>
<P><A NAME="See Also"></A><U><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000"><FONT SIZE=+1>See
Also</FONT></FONT></FONT></U>
<BR><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000"><A HREF="pbitmap.htm">PegBitmap</A></FONT></FONT>
<P><A NAME="Styles"></A><U><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000"><FONT SIZE=+1>Style
Flags</FONT></FONT></FONT></U>
<P><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">PegAnimationWindow
supports the following style flags:</FONT></FONT>
<TABLE BORDER=2 COLS=2 WIDTH="100%" >
<TR>
<TD>FF_NONE</TD>

<TD COLSPAN="2">No Frame</TD>
</TR>

<TR>
<TD>FF_THIN</TD>

<TD>Thin Frame.</TD>
</TR>

<TR>
<TD>FF_RAISED</TD>

<TD>Raised 3D Frame.</TD>
</TR>

<TR>
<TD>FF_RECESSED</TD>

<TD>Recessed 3D Frame.</TD>
</TR>

<TR>
<TD>FF_THICK</TD>

<TD COLSPAN="2">Thick 3D Frame.</TD>
</TR>
</TABLE>
<A NAME="Derivation"></A><U><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000"><FONT SIZE=+1>Derivation</FONT></FONT></FONT></U>
<BR><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">PegAnimationWindow
derives from <A HREF="pwindow.htm">PegWindow</A>.</FONT></FONT>
<BR>&nbsp;
<BR>&nbsp;
<P><A NAME="Members"></A>
<P><U><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000"><FONT SIZE=+1>Constructors:</FONT></FONT></FONT></U>
<P><IMG SRC="bullet1.jpg" HEIGHT=11 WIDTH=12><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">
<B>PegAnimationWindow(const
PegRect &amp;Rect, PegBitmap *pBackground, PegBitmap **FrameList, UCHAR
uNumFrames, SIGNED xPos, SIGNED yPos, UCHAR *Palette = NULL, WORD wStyle
= FF_NONE)</B></FONT></FONT>
<P><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">Creates an animation
window of the specified size at the specified position.</FONT></FONT>
<P><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">pBackground is a
pointer to the background bitmap for the animation. pBackground may be
NULL if no background is desired.</FONT></FONT>
<P><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">pFrameList is the
address of an array of pointers to PegBitmap images. These images are displayed in
sequence when the animation window runs. The animation window will wrap
back to the start frame after displaying the final frame, allowing continuous
animation to be displayed.</FONT></FONT>
<P><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">uNumFrames indicates
the total number of frames in the frame list.</FONT></FONT>
<P><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">xPos and yPos indicate
the upper-left corner position at which the animation frames will be displayed.
This allows the animation window to be larger than, and offset relative
to, the actual animation bitmaps.</FONT></FONT>
<P><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">pPallete is a pointer
to an array of unsigned characters. This array is typically generated by
PegImageConvert. The array should contain the RGB (Red, Green, Blue) values
for the palette desired. The number of entries in the array should be
3 * NUM_COLORS.</FONT></FONT>
<P><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">wStyle is used to
set the frame style for the animation window. The default is to display
no frame, allowing the animation window to be placed within a larger parent
window and provide a seamless animation appearance.</FONT></FONT>
<P><U><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000"><FONT SIZE=+1>Public
Functions:</FONT></FONT></FONT></U>
<P><IMG SRC="bullet1.jpg" HEIGHT=11 WIDTH=12><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">
<B>virtual
void Draw(void)</B></FONT></FONT>
<BR><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">PegAnimationWindow
overrides the Draw() function to display the animation bitmaps.</FONT></FONT>
<P><IMG SRC="bullet1.jpg" HEIGHT=11 WIDTH=12><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">
<B>SIGNED Message(const PegMessage &amp;Mesg)</B></FONT></FONT>
<BR><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">PegAnimationWindow
overrides the Message method to set the custom palette (if there is one),
when the window is displayed and to draw the correct animation frame when
the timer message is received.</FONT></FONT>
<P><IMG SRC="bullet1.jpg" HEIGHT=11 WIDTH=12><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">
<B>virtual
void Run(WORD wPeriod, UCHAR uFrame = 0)</B></FONT></FONT>
<BR><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">This function starts
the animation sequence. The parameter wPeriod is used to indicate the number
of ticks which should elapse between the display of each animation frame.</FONT></FONT>
<P><IMG SRC="bullet1.jpg" HEIGHT=11 WIDTH=12><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">
<B>virtual
void SetFrame(UCHAR uFrame = 0)</B></FONT></FONT>
<BR><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">This function can
be used to reset the animation frame, or to manually display the animation
sequence.</FONT></FONT>
<P><IMG SRC="bullet1.jpg" HEIGHT=11 WIDTH=12><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">
<B>virtual
void Stop(void)</B></FONT></FONT>
<BR><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">This function stops
the animation playback sequence.</FONT></FONT>
<P>
<HR>
<P><A NAME="Examples"></A>
<P><U><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000"><FONT SIZE=+1>Examples:</FONT></FONT></FONT></U>
<BR><FONT FACE="Arial,Helvetica"><FONT COLOR="#000000">An example of creating
and using PegAnimationWindow can be found in your PEG distribution. The
directory \peg\examples\robot contains a sample application which uses the
PegAnimationWindow class.</FONT></FONT>
</BODY>
</HTML>
